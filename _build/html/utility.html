

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Measuring Utility and Information Loss &mdash; SDC Practice Guide  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SDC with sdcMicro in R: Setting Up Your Data and more" href="sdcMicro.html" />
    <link rel="prev" title="Anonymization Methods" href="anon_methods.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SDC Practice Guide
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary_acr.html">Glossary and list of acronyms</a></li>
<li class="toctree-l1"><a class="reference internal" href="SDC_intro.html">Statistical Disclosure Control (SDC): An Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_types.html">Release Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="measure_risk.html">Measuring Risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="anon_methods.html">Anonymization Methods</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Measuring Utility and Information Loss</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-utility-measures-for-continuous-and-categorical-variables">General utility measures for continuous and categorical variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-utility-measures-for-categorical-variables">General utility measures for categorical variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#number-of-missing-values">Number of missing values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#number-of-records-changed">Number of records changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#comparing-contingency-tables">Comparing contingency tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#general-utility-measures-for-continuous-variables">General utility measures for continuous variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#statistics-mean-covariance-correlation">Statistics: mean, covariance, correlation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#il1s-information-loss-measure">IL1s information loss measure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eigenvalues">Eigenvalues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#utility-measures-based-on-the-end-users-needs">Utility measures based on the end user’s needs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regression">Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="#assessing-data-utility-with-the-help-of-data-visualizations-in-r">Assessing data utility with the help of data visualizations (in <em>R</em>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#histograms-and-density-plots">Histograms and density plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#box-plots">Box plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mosaic-plots">Mosaic plots</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#choice-of-utility-measure">Choice of utility measure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sdcMicro.html">SDC with <em>sdcMicro</em> in <em>R</em>: Setting Up Your Data and more</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">The SDC Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
</ul>
<p class="caption"><span class="caption-text">Case studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="case_studies.html">Case Studies (Illustrating the SDC Process)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SDC Practice Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Measuring Utility and Information Loss</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utility.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="measuring-utility-and-information-loss">
<h1>Measuring Utility and Information Loss<a class="headerlink" href="#measuring-utility-and-information-loss" title="Permalink to this headline">¶</a></h1>
<p>SDC is a trade-off between risk of disclosure and loss of data utility
and seeks to minimize the latter, while reducing the risk of disclosure
to an acceptable level. Data utility in this context means the
usefulness of the anonymized data for statistical analyses by end users
as well as the validity of these analyses when performed on the
anonymized data. Disclosure risk and its measurement are defined in
the Section <a class="reference external" href="measure_risk.html">Measure Risk</a> of this guide.
In order to make a trade-off between minimizing
disclosure risk and maximizing utility of data for end users, it is
necessary to measure the utility of the data after anonymization and
compare it with the utility of the original data. This section describes
measures that can be used to compare the data utility before and after
anonymization, or alternatively quantify the information loss.
Information loss is the inverse of data utility: the larger the data
utility after anonymization, the smaller the information loss.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the microdata to be anonymized is based on a sample, the data will incur
a sampling error. Also other errors may be present in the data, such as
nonresponse error.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The methods discussed here only measure the
information loss caused by the anonymization process relative to the
original sample data and do not attempt to measure the error caused by
other sources.</p>
</div>
<p>Ideally, the information loss is evaluated with respect to the needs and
uses of the end users of the microdata. However, different end users of
anonymized data may have very diverse uses for the released data and it
might not be possible to collect an exhaustive list of these uses. Even
if many uses can be identified, the characteristics in the data needed
for these uses can be contradictory (e.g., one user needs a detailed
geographical level whereas another is interested in a detailed age
structure and does not need a detailed geographical structure).
Nevertheless, as pointed out earlier, only one anonymized dataset can be
released for each dataset and every type of release to avoid unintended
disclosure. Releasing multiple anonymized datasets for different
purposes may lead to unintended disclosure. <a class="footnote-reference" href="#foot58" id="id1">[1]</a>
Therefore, it is not possible to anonymize and release a file tailored
to each user’s needs.</p>
<p>Since collecting and taking into account all data uses is often
impossible, we also look at general (or generic) information loss
measures besides user- and data-specific information loss measures.
These measures do not take into account the specific data use, but can
be used as guiding measures for information loss and evaluating whether
a dataset is still analytically valid after anonymization. The main idea
for such measures is to compare records between the original and treated
datasets and compare statistics computed from both datasets (<a class="reference internal" href="#hdfg12">HDFG12</a>).
Examples of such measures are the number of suppressions,
number of changed values, changes in contingency tables and changes in
mean and covariance matrices.</p>
<p>Many of the SDC methods discussed earlier are parametric, in the sense
that their outcome depends on parameters chosen by the user. Examples
are the cluster size for microaggregation (see the Section
<a class="reference external" href="anon_methods.html#Microaggregation">Microaggregation</a>) or the
importance vector in local suppression (see the Section
<a class="reference external" href="anon_methods.html#Localsuppression">Local suppression</a>). Data utility
and information loss measures are useful for choosing these parameters
by comparing the impact of different parameters on the information loss.
<a class="reference internal" href="#fig61"><span class="std std-numref">Fig. 12</span></a> illustrates this by showing the trade-off between the
disclosure risk and data utility of a hypothetical dataset. The triangle
represents the original data with full utility and a certain level of
disclosure risk, which is too high for disclosure. The square represents
no release of microdata. Although there is no risk of disclosure, there
is also no utility from the data for users since no data is released.
The points in between represent the result of applying different SDC
methods with different parameter specifications. We would select the SDC
method corresponding to the point, which maximizes the utility, while
keeping disclosure risk at an acceptable level.</p>
<div class="figure align-center" id="id3">
<span id="fig61"></span><img alt="_images/image11.png" src="_images/image11.png" />
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text">The trade-off between risk and utility in a hypothetical dataset</span></p>
</div>
<p>In the following sections, we first propose general utility measures
independent of data use, and later present an example of a specific
measure useful to measure information loss with respect to specific data
uses. Finally, we show how to visualize changes in the data caused by
anonymization and discuss the selection of utility measures for a
particular dataset.</p>
<div class="section" id="general-utility-measures-for-continuous-and-categorical-variables">
<h2>General utility measures for continuous and categorical variables<a class="headerlink" href="#general-utility-measures-for-continuous-and-categorical-variables" title="Permalink to this headline">¶</a></h2>
<p>General or generic measures of information loss can be divided into
those comparing the actual values of the raw and anonymized data, and
those comparing statistics from both datasets. All measures are a
posteriori, since they measure utility after anonymization and require
both the data before and after the anonymization process. General
utility measures are different for categorical and continuous variables.</p>
<div class="section" id="general-utility-measures-for-categorical-variables">
<h3>General utility measures for categorical variables<a class="headerlink" href="#general-utility-measures-for-categorical-variables" title="Permalink to this headline">¶</a></h3>
<div class="section" id="number-of-missing-values">
<h4>Number of missing values<a class="headerlink" href="#number-of-missing-values" title="Permalink to this headline">¶</a></h4>
<p>An informative measure is to compare the number of missing values in the
data. Missing values are often introduced after suppression and more
suppressions indicate a higher degree of information loss. After using
the local suppression function on an <em>sdcMicro</em> object, the number of
suppressions for each categorical key variable can be retrieved with the
print() function, which is illustrated in <a class="reference internal" href="#code61"><span class="std std-numref">Listing 25</span></a> <a class="footnote-reference" href="#foot59" id="id2">[2]</a>.
The argument ‘ls’ in the print() function
stands for local suppression. The output shows both the absolute and
relative number of suppressions.</p>
<div class="literal-block-wrapper docutils container" id="code61">
<div class="code-block-caption"><span class="caption-number">Listing 25 </span><span class="caption-text">Using the print() function to retrieve the total number of suppressions for each categorical key variable</span><a class="headerlink" href="#code61" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>sdcInitial <span class="o">&lt;-</span> localSuppression<span class="p">(</span>sdcInitial<span class="p">,</span> k <span class="o">=</span> <span class="m">5</span><span class="p">,</span> importance <span class="o">=</span> <span class="kc">NULL</span><span class="p">)</span>

<span class="kp">print</span><span class="p">(</span>sdcInitial<span class="p">,</span> <span class="s">&#39;ls&#39;</span><span class="p">)</span>

<span class="c1">## Local Suppression:</span>
<span class="c1">##   KeyVar | Suppressions (#) | Suppressions (%)</span>
<span class="c1">##   URBRUR |                0 |            0.000</span>
<span class="c1">##   REGION |               81 |            4.050</span>
<span class="c1">##    RELIG |                0 |            0.000</span>
<span class="c1">##  MARITAL |                0 |            0.000</span>
<span class="c1">## ---------------------------------------------------------------------------</span>
</pre></div>
</td></tr></table></div>
</div>
<p>More generally, it is possible to count and compare the number of
missing values in the original data and the treated data. This can be
useful to see the proportional increase in the number of missing values.
Missing values can also have other sources, such as nonresponse. <a class="reference internal" href="#code62"><span class="std std-numref">Listing 26</span></a>
shows how to display the number of missing values for each of the
categorical key variables in an <em>sdcMicro</em> object. Here it is assumed
that all missing values are coded ‘NA’. If the missing values are not
coded ‘NA’, but instead another value, it is possible to use the
alternative missing values code. The results agree with the number of
missing values introduced by local suppression in the previous example,
but also shows that the variable “RELIG” has 1,000 missing values in the
original data.</p>
<div class="literal-block-wrapper docutils container" id="code62">
<div class="code-block-caption"><span class="caption-number">Listing 26 </span><span class="caption-text">Displaying the number of missing values for each categorical key variable in an <em>sdcMicro</em> object</span><a class="headerlink" href="#code62" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Store the names of all categorical key variables in a vector</span>
namesKeyVars <span class="o">&lt;-</span> <span class="kp">names</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipKeyVars<span class="p">)</span>

<span class="c1"># Matrix to store the number of missing values (NA) before and after anonymization</span>
NAcount <span class="o">&lt;-</span> <span class="kt">matrix</span><span class="p">(</span><span class="kc">NA</span><span class="p">,</span> nrow <span class="o">=</span> <span class="m">2</span><span class="p">,</span> ncol <span class="o">=</span> <span class="kp">length</span><span class="p">(</span>namesKeyVars<span class="p">))</span>
<span class="kp">colnames</span><span class="p">(</span>NAcount<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="kp">paste0</span><span class="p">(</span><span class="s">&#39;NA&#39;</span><span class="p">,</span> namesKeyVars<span class="p">))</span> <span class="c1"># column names</span>
<span class="kp">rownames</span><span class="p">(</span>NAcount<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;initial&#39;</span><span class="p">,</span> <span class="s">&#39;treated&#39;</span><span class="p">)</span> <span class="c1"># row names</span>

<span class="c1"># NA count in all key variables (NOTE: only those coded NA are counted)</span>
<span class="kr">for</span><span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>namesKeyVars<span class="p">))</span> <span class="p">{</span>
  NAcount<span class="p">[</span><span class="m">1</span><span class="p">,</span> i<span class="p">]</span> <span class="o">&lt;-</span> <span class="kp">sum</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[,</span>namesKeyVars<span class="p">[</span>i<span class="p">]]))</span>
  NAcount<span class="p">[</span><span class="m">2</span><span class="p">,</span> i<span class="p">]</span> <span class="o">&lt;-</span> <span class="kp">sum</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipKeyVars<span class="p">[,</span>i<span class="p">]))</span>
<span class="p">}</span>

<span class="c1"># Show results</span>
NAcount
<span class="c1">## NAURBRUR NAREGION NARELIG NAMARITAL</span>
<span class="c1">## initial 0 0 1000 51</span>
<span class="c1">## treated 0 81 1000 51</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="number-of-records-changed">
<h4>Number of records changed<a class="headerlink" href="#number-of-records-changed" title="Permalink to this headline">¶</a></h4>
<p>Another useful statistic is the number of records changed per variable.
These can be counted in a similar way as the missing values and include
suppressions (i.e., changes to missing/’NA’ in <em>R</em>). The number of
records changed gives a good indication of the impact of the
anonymization methods on the data. <a class="reference internal" href="#code63"><span class="std std-numref">Listing 27</span></a> illustrates how to
compute the number of records changed for the PRAMmed variables.</p>
<div class="literal-block-wrapper docutils container" id="code63">
<div class="code-block-caption"><span class="caption-number">Listing 27 </span><span class="caption-text">Computing number of records changed per variable</span><a class="headerlink" href="#code63" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Store the names of all pram variables in a vector</span>
namesPramVars <span class="o">&lt;-</span> <span class="kp">names</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipPramVars<span class="p">)</span>

<span class="c1"># Dataframe to save the number of records changed</span>
recChanged <span class="o">&lt;-</span> <span class="kp">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="kp">length</span><span class="p">(</span>namesPramVars<span class="p">))</span>
<span class="kp">names</span><span class="p">(</span>recChanged<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="kp">paste0</span><span class="p">(</span><span class="s">&#39;RC&#39;</span><span class="p">,</span> namesPramVars<span class="p">))</span>

<span class="c1"># Count number of records changed</span>
<span class="kr">for</span><span class="p">(</span>j <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>namesPramVars<span class="p">))</span> <span class="c1"># for all key variables</span>
<span class="p">{</span>
  comp <span class="o">&lt;-</span> sdcInitial<span class="o">@</span>origData<span class="p">[</span>namesPramVars<span class="p">[</span>j<span class="p">]]</span> <span class="o">!=</span>
                              sdcInitial<span class="o">@</span>manipPramVars<span class="p">[</span>namesPramVars<span class="p">[</span>j<span class="p">]]</span>
  temp1 <span class="o">&lt;-</span> <span class="kp">sum</span><span class="p">(</span>comp<span class="p">,</span> na.rm <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="c1"># all changed variables without NAs</span>
  temp2 <span class="o">&lt;-</span> <span class="kp">sum</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>comp<span class="p">))</span>        <span class="c1"># if NA, changed, unless NA initially</span>
  temp3 <span class="o">&lt;-</span> <span class="kp">sum</span><span class="p">(</span><span class="kp">is.na</span><span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[</span>namesPramVars<span class="p">[</span>j<span class="p">]])</span>
               <span class="o">+</span> <span class="kp">is.na</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipPramVars<span class="p">[</span>namesPramVars<span class="p">[</span>j<span class="p">]])</span><span class="o">==</span><span class="m">2</span><span class="p">)</span>
  <span class="c1"># both NA, no change, but counted in temp2</span>
  recChanged<span class="p">[</span>j<span class="p">]</span> <span class="o">&lt;-</span> temp1 <span class="o">+</span> temp2 <span class="o">-</span> temp3
<span class="p">}</span>

<span class="c1"># Show results</span>
recChanged
<span class="c1">##  RCWATER   RCROOF RCTOILET</span>
<span class="c1">##      125       86      180</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="comparing-contingency-tables">
<h4>Comparing contingency tables<a class="headerlink" href="#comparing-contingency-tables" title="Permalink to this headline">¶</a></h4>
<p>A useful way to measure information loss in categorical variables is to
compare univariate tabulations and, more interestingly, contingency
tables (also cross tabulations or two-way tables) between pairs of
variables. To maintain the analytical validity of a dataset, the
contingency tables should stay approximately the same. The function
table() produces contingency tables of one or more variables. <a class="reference internal" href="#code64"><span class="std std-numref">Listing 28</span></a>
creates a contingency table of the variables “REGION” and “URBRUR”.
We observe small differences between the tables before and after
anonymization.</p>
<div class="literal-block-wrapper docutils container" id="code64">
<div class="code-block-caption"><span class="caption-number">Listing 28 </span><span class="caption-text">Comparing contingency tables of categorical variables</span><a class="headerlink" href="#code64" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="c1"># Contingency table (cross tabulation) of the variables region and urban/rural</span>
 <span class="kp">table</span><span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;REGION&#39;</span><span class="p">,</span> <span class="s">&#39;URBRUR&#39;</span><span class="p">)])</span> <span class="c1"># before anonymization</span>
 <span class="c1">##       URBRUR</span>
 <span class="c1">## REGION   1   2</span>
 <span class="c1">##      1 235  89</span>
 <span class="c1">##      2 261  73</span>
 <span class="c1">##      3 295  76</span>
 <span class="c1">##      4 304  71</span>
 <span class="c1">##      5 121 139</span>
 <span class="c1">##      6 100 236</span>

 <span class="kp">table</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipKeyVars<span class="p">[,</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;REGION&#39;</span><span class="p">,</span> <span class="s">&#39;URBRUR&#39;</span><span class="p">)])</span> <span class="c1"># after anonymization</span>
 <span class="c1">##       URBRUR</span>
 <span class="c1">## REGION   1   2</span>
 <span class="c1">##      1 235  89</span>
 <span class="c1">##      2 261  73</span>
 <span class="c1">##      3 295  76</span>
 <span class="c1">##      4 304  71</span>
 <span class="c1">##      5 105 130</span>
 <span class="c1">##      6  79 201</span>
</pre></div>
</td></tr></table></div>
</div>
<p><a class="reference internal" href="#doto01b">DoTo01b</a> propose a Contingency Table-Based
Information Loss (CTBIL) measure, which quantifies the distance between
the contingency tables in the original and treated data. Alternatively,
visualizations of the contingency table with mosaic plots can be used to
compare the impact of anonymization methods on the tabulations and
contingency tables (see the Section <a class="reference internal" href="#mosaic-plots">Mosaic plots</a>).</p>
</div>
</div>
<div class="section" id="general-utility-measures-for-continuous-variables">
<h3>General utility measures for continuous variables<a class="headerlink" href="#general-utility-measures-for-continuous-variables" title="Permalink to this headline">¶</a></h3>
<div class="section" id="statistics-mean-covariance-correlation">
<h4>Statistics: mean, covariance, correlation<a class="headerlink" href="#statistics-mean-covariance-correlation" title="Permalink to this headline">¶</a></h4>
<p>The statistics characterizing the dataset should not change after the
anonymization. Examples of such statistics are the mean, variance, and
covariance and correlation structure of the most important variables in
the dataset. Other statistics characterizing the data include the
principal components and the loadings. <a class="reference internal" href="#doto01b">DoTo01b</a>
give an overview of statistics that can be considered. In order to
evaluate the information loss caused by the anonymization, one should
compare the appropriate statistics for continuous variables computed
from the data before and after anonymization. There are several ways to
evaluate the loss of utility with respect to the changes in these
statistics, for instance, by comparing means and (co-)variances in the
data or comparing the (multivariate) distributions of the data.
Especially changes in the correlations gives valuable information on the
validity of the data for regressions. Functions from the <em>R</em> base
package or any other statistical package can be used to do this.
Following are a few examples in <em>R</em>.</p>
<p>To compute the mean of each numerical variable we use the function
colMeans(). To ignore missing values, it is necessary to use the option
na.rm = TRUE. “numVars” is a vector with the names of the numerical
variables. <a class="reference internal" href="#code65"><span class="std std-numref">Listing 29</span></a> shows how to compute the means for all numeric
variables. The untreated data is extracted from the ‘origData’ slot of
the <em>sdcMicro</em> object and the anonymized data from the ‘manipNumVars’
slot, which contains the manipulated numeric variables. We observe small
changes in each of the three variables.</p>
<div class="literal-block-wrapper docutils container" id="code65">
<div class="code-block-caption"><span class="caption-number">Listing 29 </span><span class="caption-text">Comparing the means of continuous variables</span><a class="headerlink" href="#code65" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># untreated data</span>
<span class="kp">colMeans</span><span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[,</span> numVars<span class="p">],</span> na.rm <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="c1">##       INC    INCRMT   INCWAGE</span>
<span class="c1">##  479.7710  961.0295 1158.1330</span>

<span class="c1"># anonymized data</span>
<span class="kp">colMeans</span><span class="p">(</span>sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span> numVars<span class="p">],</span> na.rm <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
<span class="c1">##       INC    INCRMT   INCWAGE</span>
<span class="c1">##  489.6030  993.8512 1168.7561</span>
</pre></div>
</td></tr></table></div>
</div>
<p>In the same way, one can compute the covariance and correlation matrices
of the numerical variables in the <em>sdcMicro</em> object from the untreated
and anonymized data. This is shown in <a class="reference internal" href="#code66"><span class="std std-numref">Listing 30</span></a>. We observe that the
variance of each variable (the diagonal elements in the covariance
matrix) have increased by the anonymization. These functions also allow
computing confidence intervals in the case of samples. The means and
covariances of subsets in the data also should not differ. An example is
the mean of income by gender, by age group or by region. These
characteristics of the data are important for analysis.</p>
<div class="literal-block-wrapper docutils container" id="code66">
<div class="code-block-caption"><span class="caption-number">Listing 30 </span><span class="caption-text">Comparing covariance structure and correlation matrices of numeric variables</span><a class="headerlink" href="#code66" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># untreated data</span>
cov<span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[,</span> numVars<span class="p">])</span>
<span class="c1">##               INC    INCRMT  INCWAGE</span>
<span class="c1">## INC     1645926.1  586975.6  2378901</span>
<span class="c1">## INCRMT   586975.6 6984502.3  1664257</span>
<span class="c1">## INCWAGE 2378900.7 1664257.4 16169878</span>

cor<span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="p">[,</span> numVars<span class="p">])</span>

<span class="c1">##               INC    INCRMT   INCWAGE</span>
<span class="c1">## INC     1.0000000 0.1731200 0.4611241</span>
<span class="c1">## INCRMT  0.1731200 1.0000000 0.1566028</span>
<span class="c1">## INCWAGE 0.4611241 0.1566028 1.0000000</span>

<span class="c1"># anonymized data</span>
cov<span class="p">(</span>sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span> numVars<span class="p">])</span>
<span class="c1">##               INC    INCRMT  INCWAGE</span>
<span class="c1">## INC     2063013.1  649937.5  2382447</span>
<span class="c1">## INCRMT   649937.5 8566169.1  1778985</span>
<span class="c1">## INCWAGE 2382447.4 1778985.1 19925870</span>

cor<span class="p">(</span>sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span> numVars<span class="p">])</span>
<span class="c1">##               INC    INCRMT   INCWAGE</span>
<span class="c1">## INC     1.0000000 0.1546063 0.3715897</span>
<span class="c1">## INCRMT  0.1546063 1.0000000 0.1361665</span>
<span class="c1">## INCWAGE 0.3715897 0.1361665 1.0000000</span>
</pre></div>
</td></tr></table></div>
</div>
<p><a class="reference internal" href="#doto01b">DoTo01b</a> propose several measures for the
discrepancy between the covariance and correlation matrices. These
measures are based on the mean squared error, the mean absolute error or
the mean variation of the individual cells. We refer to <a class="reference internal" href="#doto01b">DoTo01b</a> for a complete overview of these measures.</p>
</div>
<div class="section" id="il1s-information-loss-measure">
<h4>IL1s information loss measure<a class="headerlink" href="#il1s-information-loss-measure" title="Permalink to this headline">¶</a></h4>
<p>Alternatively, we can also compare the actual data and quantify the
distance between the original dataset <span class="math notranslate nohighlight">\(X\)</span> and the treated dataset
<span class="math notranslate nohighlight">\(Z\)</span>. Here <span class="math notranslate nohighlight">\(X\)</span> and <span class="math notranslate nohighlight">\(Z\)</span> contain only continuous
variables. <a class="reference internal" href="#yawc02">YaWC02</a> introduce the distance
measure IL1s, which is the sum of the absolute distances between the
corresponding observations in the raw and anonymized datasets, which are
standardized by the standard deviation of the variables in the original
data. For the continuous variables in the dataset, the IL1s measure is
defined as</p>
<div class="math notranslate nohighlight">
\[IL1s = \frac{1}{\text{pn}}\sum_{j = 1}^{p}{\sum_{i = 1}^{n}\frac{\left| x_{\text{ij}} - z_{\text{ij}} \right|}{\sqrt{2}S_{j}}},\]</div>
<p>where <span class="math notranslate nohighlight">\(p\)</span> is the number of continuous variables; <span class="math notranslate nohighlight">\(n\)</span> is the
number of records in the dataset; <span class="math notranslate nohighlight">\(x_{\text{ij}}\)</span> and
<span class="math notranslate nohighlight">\(z_{\text{ij}}\)</span>, respectively, are the values before and after
anonymization for variable <span class="math notranslate nohighlight">\(j\)</span> and individual <span class="math notranslate nohighlight">\(i\)</span>; and
<span class="math notranslate nohighlight">\(S_{j}\)</span> is the standard deviation of variable <span class="math notranslate nohighlight">\(j\)</span> in the
original data (<a class="reference internal" href="#yawc02">YaWC02</a>).</p>
<p>When using <em>sdcMicro</em>, the IL1s data utility measure can be computed for
all numerical quasi-identifiers with the function dUtility(), which is
illustrated in <a class="reference internal" href="#code67"><span class="std std-numref">Listing 31</span></a>. If required, the measure can also be
computed on subsets of the complete set of numerical quasi-identifiers.
The function is called dUtility(), but returns a measure of information
loss. The result is saved in the utility slot of the <em>sdcMicro</em> object.
<a class="reference internal" href="#code67"><span class="std std-numref">Listing 31</span></a> also illustrates how to call the result.</p>
<div class="literal-block-wrapper docutils container" id="code67">
<div class="code-block-caption"><span class="caption-number">Listing 31 </span><span class="caption-text">Using dUtility() to compute IL1s data utility measure in <em>sdcMicro</em></span><a class="headerlink" href="#code67" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Evaluating IL1s measure for all variables in the sdcMicro object sdcInitial</span>
sdcInitial <span class="o">&lt;-</span> dUtility<span class="p">(</span>sdcInitial<span class="p">)</span>

<span class="c1"># Calling the result of IL1s</span>
sdcInitial<span class="o">@</span>utility<span class="o">$</span>il1
<span class="c1">## [1] 0.2203791</span>

<span class="c1"># IL1s for a subset of the numerical quasi-identifiers</span>
subset <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;INCRMT&#39;</span><span class="p">,</span> <span class="s">&#39;INCWAGE&#39;</span><span class="p">,</span> <span class="s">&#39;INCFARMBSN&#39;</span><span class="p">)</span>
dUtility<span class="p">(</span>obj <span class="o">=</span> sdcInitial<span class="o">@</span>origData<span class="p">[,</span><span class="kp">subset</span><span class="p">],</span> xm <span class="o">=</span> sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span><span class="kp">subset</span><span class="p">],</span>
method <span class="o">=</span> <span class="s">&#39;IL1&#39;</span><span class="p">)</span>
<span class="c1">## [1] 0.5641103</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The measure is useful for comparing different methods. The smaller the
value of the measure, the closer the values are to the original values
and the higher the utility.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This measure is related to risk measures based on distance and intervals (see
the Section <a class="reference external" href="measure_risk.html#Riskmeasuresforcontinuousvariables">Risk measures for continuous variables</a>).</p>
</div>
<p>The greater the distance between the original and anonymized values, the
lower the data utility. Greater distance, however, also reduces the risk
of re-identification.</p>
</div>
<div class="section" id="eigenvalues">
<h4>Eigenvalues<a class="headerlink" href="#eigenvalues" title="Permalink to this headline">¶</a></h4>
<p>Another way to evaluate the information loss is to compare the robust
eigenvalues of the data before and after anonymization. <a class="reference internal" href="#code68"><span class="std std-numref">Listing 32</span></a>
illustrates how to use this approach with <em>sdcMicro</em>. Here “contVars” is
a vector with the names of the continuous variables in which we are
interested. “obj” is the argument that specifies the untreated data and
“xm” is the argument that specifies the anonymized data. The function’s
output is the difference in eigenvalues. Therefore, the minimum value is
0. Again, the main use is to compare different methods. The greater the
value, the greater the changes in the data and the information loss.</p>
<div class="literal-block-wrapper docutils container" id="code68">
<div class="code-block-caption"><span class="caption-number">Listing 32 </span><span class="caption-text">Using dUtility() to compute eigenvalues in <em>sdcMicro</em></span><a class="headerlink" href="#code68" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Comparison of eigenvalues of continuous variables</span>
dUtility<span class="p">(</span>obj <span class="o">=</span> sdcInitial<span class="o">@</span>origData<span class="p">[,</span>contVars<span class="p">],</span>
         xm <span class="o">=</span> sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span>contVars<span class="p">],</span> method <span class="o">=</span> <span class="s">&#39;eigen&#39;</span><span class="p">)</span>
<span class="c1">## [1] 2.482948</span>

<span class="c1"># Comparison of robust eigenvalues of continuous variables*</span>
dUtility<span class="p">(</span>obj <span class="o">=</span> sdcInitial<span class="o">@</span>origData<span class="p">[,</span>contVars<span class="p">],</span>
         xm <span class="o">=</span> sdcInitial<span class="o">@</span>manipNumVars<span class="p">[,</span>contVars<span class="p">],</span> method <span class="o">=</span> <span class="s">&#39;robeigen&#39;</span><span class="p">)</span>
<span class="c1">## [1] -4.297621e+14</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>
<div class="section" id="utility-measures-based-on-the-end-users-needs">
<h2>Utility measures based on the end user’s needs<a class="headerlink" href="#utility-measures-based-on-the-end-users-needs" title="Permalink to this headline">¶</a></h2>
<p>Not all needs and uses of a certain dataset can be inventoried.
Nevertheless, some types of data have similar uses or important
characteristics, which can be evaluated before and after anonymization.
Examples of such “benchmarking indicators” (<a class="reference internal" href="#tmkc14">TMKC14</a>) are
different for each dataset. Examples include poverty measures for income
datasets and school attendance ratios. Often ideas for selecting such
indicators come from the reports data users publish based on previously
released microdata.</p>
<p>The approach is to compare the indicators calculated on the untreated
data and the data after anonymization with different methods. If the
differences between the indicators are not too large, the anonymized
dataset can be released for use by researchers. It should be taken into
account that indicators calculated on samples are estimates with a
certain variance and confidence interval. Therefore, for sample data, it
is more informative to compare the overlap of confidence intervals
and/or to evaluate whether the point estimate calculated after
anonymization is contained within the confidence interval of the
original estimate. Examples of benchmark indicators and their confidence
intervals and how to compute these in <em>R</em> are included in the case
studies in these guidelines. Here we give the example of the GINI
coefficient.</p>
<p>The GINI coefficient is a measure of statistical dispersion, which is
often used to measure inequality in income. A way to measure the
information loss in income data is to compare the income distribution,
which can be easily done by comparing the GINI coefficients. Several <em>R</em>
packages have functions to compute the GINI coefficient. We chose the
<em>laeken</em> package, which computes the GINI coefficient as the area
between the 45-degree line and the Lorenz curve. To use the gini()
function, we first have to install and load the <em>laeken</em> library. To
calculate the GINI coefficient for the variable income, we use the
sample weights in the data. This is shown in <a class="reference internal" href="#code69"><span class="std std-numref">Listing 33</span></a>. The GINI
coefficient of sample data is a random variable. Therefore, it is useful
to construct a confidence interval around the coefficient to evaluate
the significance of any change in the coefficient after anonymization.
The gini() function computes a 1-alpha confidence interval for the GINI
coefficient by using bootstrap.</p>
<div class="literal-block-wrapper docutils container" id="code69">
<div class="code-block-caption"><span class="caption-number">Listing 33 </span><span class="caption-text">Computing the GINI coefficient from the income variable to determine income inequality</span><a class="headerlink" href="#code69" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Gini coefficient before anonymization</span>
gini<span class="p">(</span>inc <span class="o">=</span> sdcInitial<span class="o">@</span>origData<span class="p">[</span>selInc<span class="p">,</span><span class="s">&#39;INC&#39;</span><span class="p">],</span>
     weights <span class="o">=</span>  curW<span class="p">[</span>selInc<span class="p">],</span> na.rm <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span><span class="o">$</span>value <span class="c1"># before</span>
<span class="c1">## [1] 34.05928</span>

<span class="c1"># Gini coefficient after anonymization</span>
gini<span class="p">(</span>inc <span class="o">=</span> sdcInitial<span class="o">@</span>manipNumVars<span class="p">[</span>selInc<span class="p">,</span><span class="s">&#39;INC&#39;</span><span class="p">],</span>
     weights <span class="o">=</span> curW<span class="p">[</span>selInc<span class="p">],</span> na.rm <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span><span class="o">$</span>value <span class="c1"># after</span>
<span class="c1">## [1] 67.13218</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="regression">
<h2>Regression<a class="headerlink" href="#regression" title="Permalink to this headline">¶</a></h2>
<p>Besides comparing covariance and correlation matrices, regressions are a
useful tool to evaluate whether the structure in the data is maintained
after anonymization. By comparing regressions parameters, it is also
possible to compare relations between non-continuous variables (e.g., by
introducing dummy variables or regression with ordinal variables). If it
is known for what purpose and in what field the data is used, common
regressions can be used to compare the change in coefficients and
confidence intervals.</p>
<p>An example of using regression to evaluate the data utility in income
data is the Mincer equation. The Mincer equation explains earnings as a
function of education and experience while controlling for other
variables. The Mincer equation is often used to evaluate the gender pay
gap and gender wage inequality by including a gender dummy. Here we show
how to evaluate the impact of anonymization methods on the gender
coefficient. We regress the log income on a constant, a gender dummy,
years of education, years of experience, years of experience squared and
other factors influencing wage.</p>
<div class="math notranslate nohighlight">
\[\ln\left( \text{wage} \right) = \beta_{0} + \beta_{1}gender + \beta_{2}education + \beta_{3}experience + \beta_{3}\text{experience}^{2} + \beta X\]</div>
<p>The parameter of interest here is <span class="math notranslate nohighlight">\(\beta_{1}\)</span>, the effect of
gender on the log wage. X is a matrix with several other factors
influencing wage and <span class="math notranslate nohighlight">\(\beta\)</span> the coefficients of these factors.
<a class="reference internal" href="#code610"><span class="std std-numref">Listing 34</span></a> illustrates how to run a Mincer regression in <em>R</em> using the
function lm() and evaluate the coefficients and confidence intervals
around the coefficients. We run the regression as specified for paid
employees with a positive wage in the age groups 15 – 65 years.</p>
<div class="literal-block-wrapper docutils container" id="code610">
<div class="code-block-caption"><span class="caption-number">Listing 34 </span><span class="caption-text">Estimating the Mincer equation (regression) to evaluate data utility before and after anonymization</span><a class="headerlink" href="#code610" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Mincer equation variables before anonymization</span>
Mlwage    <span class="o">&lt;-</span> <span class="kp">log</span><span class="p">(</span>sdcMincer<span class="o">@</span>origData<span class="o">$</span>wage<span class="p">)</span> <span class="c1"># log wage</span>
<span class="c1"># TRUE if &#39;paid employee&#39;, else FALSE or NA</span>
Mempstat  <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>empstat<span class="o">==</span><span class="s">&#39;Paid employee&#39;</span>
Mage      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>age    <span class="c1"># age in years</span>
Meducy    <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>educy  <span class="c1"># education in years</span>
Mexp      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>exp    <span class="c1"># experience in years</span>
Mexp2     <span class="o">&lt;-</span> Mexp<span class="o">^</span><span class="m">2</span>                    <span class="c1"># squared experience</span>
Mgender   <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>gender <span class="c1"># gender dummy</span>
Mwgt      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>wgt    <span class="c1"># weight variable for regression</span>
MfileB    <span class="o">&lt;-</span> <span class="kp">as.data.frame</span><span class="p">(</span><span class="kp">cbind</span><span class="p">(</span>Mlwage<span class="p">,</span> Mempstat<span class="p">,</span> Mage<span class="p">,</span> Meducy<span class="p">,</span> Mexp<span class="p">,</span> Mexp2<span class="p">,</span>
                                 Mgender<span class="p">,</span> Mwgt<span class="p">))</span>
<span class="c1"># Mincer equation variables after anonymization</span>
Mlwage    <span class="o">&lt;-</span> <span class="kp">log</span><span class="p">(</span>sdcMincer<span class="o">@</span>manipNumVars<span class="o">$</span>wage<span class="p">)</span> <span class="c1"># log wage</span>
Mempstat  <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>manipKeyVars<span class="o">$</span>empstat<span class="o">==</span><span class="s">&#39;Paid employee&#39;</span>
<span class="c1"># TRUE if &#39;paid employee&#39;, else FALSE or NA</span>
Mage      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>manipKeyVars<span class="o">$</span>age    <span class="c1"># age in years</span>
Meducy    <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>manipKeyVars<span class="o">$</span>educy  <span class="c1"># education in years</span>
Mexp      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>manipKeyVars<span class="o">$</span>exp    <span class="c1"># experience in years</span>
Mexp2     <span class="o">&lt;-</span> Mexp<span class="o">^</span><span class="m">2</span>                        <span class="c1"># squared experience</span>
Mgender   <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>manipKeyVars<span class="o">$</span>gender <span class="c1"># gender dummy</span>
Mwgt      <span class="o">&lt;-</span> sdcMincer<span class="o">@</span>origData<span class="o">$</span>wgt        <span class="c1"># weight variable for regression</span>
MfileA    <span class="o">&lt;-</span> <span class="kp">as.data.frame</span><span class="p">(</span><span class="kp">cbind</span><span class="p">(</span>Mlwage<span class="p">,</span> Mempstat<span class="p">,</span> Mage<span class="p">,</span> Meducy<span class="p">,</span> Mexp<span class="p">,</span> Mexp2<span class="p">,</span>
                                 Mgender<span class="p">,</span> Mwgt<span class="p">))</span>

<span class="c1"># Specify regression formula</span>
Mformula <span class="o">&lt;-</span> <span class="s">&#39;Mlwage ~ Meducy + Mexp + Mexp2 + Mgender&#39;</span>

<span class="c1"># Regression Mincer equation</span>
mincer1565B <span class="o">&lt;-</span> lm<span class="p">(</span>Mformula<span class="p">,</span> data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>MfileB<span class="p">,</span>
MfileB<span class="o">$</span>Mage <span class="o">&gt;=</span> <span class="m">15</span> <span class="o">&amp;</span> MfileB<span class="o">$</span>Mage <span class="o">&lt;=</span> <span class="m">65</span> <span class="o">&amp;</span> MfileB<span class="o">$</span>Mempstat<span class="o">==</span><span class="kc">TRUE</span> <span class="o">&amp;</span>
MfileB<span class="o">$</span>Mlwage <span class="o">!=</span> <span class="o">-</span><span class="kc">Inf</span><span class="p">),</span> na.action <span class="o">=</span> na.exclude<span class="p">,</span> weights <span class="o">=</span> Mwgt<span class="p">)</span> <span class="c1"># before</span>
mincer1565A <span class="o">&lt;-</span> lm<span class="p">(</span>Mformula<span class="p">,</span>
                  data <span class="o">=</span> <span class="kp">subset</span><span class="p">(</span>MfileA<span class="p">,</span>
                                                MfileA<span class="o">$</span>Mage <span class="o">&gt;=</span> <span class="m">15</span> <span class="o">&amp;</span> MfileA<span class="o">$</span>Mage <span class="o">&lt;=</span> <span class="m">65</span> <span class="o">&amp;</span>
                                                MfileA<span class="o">$</span>Mempstat<span class="o">==</span><span class="kc">TRUE</span> <span class="o">&amp;</span>
                                MfileA<span class="o">$</span>Mlwage <span class="o">!=</span> <span class="o">-</span><span class="kc">Inf</span><span class="p">),</span>
                  na.action <span class="o">=</span> na.exclude<span class="p">,</span> weights <span class="o">=</span> Mwgt<span class="p">)</span> <span class="c1"># after</span>

<span class="c1"># The objects mincer1565B and mincer1565A contain the results of the</span>
regressions before and after anonymization
mincer1565B<span class="o">$</span>coefficients <span class="c1"># before</span>
<span class="c1">##   (Intercept)        Meducy          Mexp         Mexp2       Mgender</span>
<span class="c1">##  3.9532064886  0.0212367075  0.0255962570 -0.0005682651 -0.4931289413</span>

mincer1565A<span class="o">$</span>coefficients <span class="c1"># after</span>
<span class="c1">##   (Intercept)        Meducy          Mexp         Mexp2       Mgender</span>
<span class="c1">##  4.0526250282  0.0141090329  0.0326711056 -0.0007605492 -0.5393641862</span>

<span class="c1"># Compute the 95 percent confidence interval</span>
confint<span class="p">(</span>obj <span class="o">=</span> mincer1565B<span class="p">,</span> level <span class="o">=</span> <span class="m">0.95</span><span class="p">)</span> <span class="c1"># before</span>
<span class="c1">##                    2.5 %        97.5 %</span>
<span class="c1">## (Intercept)  3.435759991  4.4706529860</span>
<span class="c1">## Meducy      -0.018860497  0.0613339120</span>
<span class="c1">## Mexp         0.004602597  0.0465899167</span>
<span class="c1">## Mexp2       -0.000971303 -0.0001652273</span>
<span class="c1">## Mgender     -0.658085143 -0.3281727396</span>

confint<span class="p">(</span>obj <span class="o">=</span> mincer1565A<span class="p">,</span> level <span class="o">=</span> <span class="m">0.95</span><span class="p">)</span> <span class="c1"># after</span>
<span class="c1">##                   2.5 %        97.5 %</span>
<span class="c1">## (Intercept)  3.46800378  4.6372462758</span>
<span class="c1">## Meducy      -0.03305743  0.0612754964</span>
<span class="c1">## Mexp         0.01024867  0.0550935366</span>
<span class="c1">## Mexp2       -0.00119162 -0.0003294784</span>
<span class="c1">## Mgender     -0.71564602 -0.3630823543</span>
</pre></div>
</td></tr></table></div>
</div>
<p>If the new estimates fall within the original confidence interval and
the new and original confidence intervals are greatly overlapping, the
data can be considered valid for this type of regression after
anonymization. <a class="reference internal" href="#fig62"><span class="std std-numref">Fig. 13</span></a> shows the point estimates and confidence
intervals for the gender coefficient in this trade-off for a sample
income dataset and several SDC methods and parameters. The red dot and
confidence bar (on the top) correspond to the estimates for the
untreated data, whereas the other confidence bars correspond to the
respective SDC methods and different parameters. The anonymization
reduces the number of expected re-identifications in the data (left
axis) and the point estimates and confidence intervals vary greatly for
the different SDC methods. We would choose a method, which reduces the
expected number of identifications, while not changing the gender
coefficient and having a great overlap of the confidence interval with
the confidence interval estimated from the original data.</p>
<div class="figure align-center" id="id4">
<span id="fig62"></span><img alt="_images/image12.png" src="_images/image12.png" />
<p class="caption"><span class="caption-number">Fig. 13 </span><span class="caption-text">Effect of anonymization on the point estimates and confidence interval of the gender coefficient in the Mincer equation</span></p>
</div>
</div>
<div class="section" id="assessing-data-utility-with-the-help-of-data-visualizations-in-r">
<h2>Assessing data utility with the help of data visualizations (in <em>R</em>)<a class="headerlink" href="#assessing-data-utility-with-the-help-of-data-visualizations-in-r" title="Permalink to this headline">¶</a></h2>
<p>The use of graphs and other visualization techniques is a good way to
assess at a glance how much the data have changed after anonymization,
and can aid the selection of appropriate anonymization techniques for
the data. Visualizations can be a useful tool to assess the impact on
data utility of anonymization methods and helps choose among
anonymization methods. The software package <em>R</em> provides several
functions and packages that can help visualize the results of
anonymization. This section lists a few of these functions and packages
and provides code examples to illustrate how to implement them. We
present the following visualizations:</p>
<ul class="simple">
<li>histograms and density plots</li>
<li>boxplots</li>
<li>mosaic plots</li>
</ul>
<p>To make appropriate visualizations, we need to use the raw data and the
anonymized data. When using an <em>sdcMicro</em> object for the anonymization
process, the raw data are stored in the “origData” slot of the object
and the anonymized variables are in the slots “manipKeyVars”,
“manipPramVars”, “manipNumVars” and “manipStrataVar” slots. See the Section
<a class="reference external" href="sdcMicro.html#ObjectsofclasssdcMicroObj">Objects of class sdcMicroObj</a>
for more information on <em>sdcMicro</em> objects, slots and how to access
slots.</p>
<div class="section" id="histograms-and-density-plots">
<h3>Histograms and density plots<a class="headerlink" href="#histograms-and-density-plots" title="Permalink to this headline">¶</a></h3>
<p>Histograms and density plots are useful for quick comparisons of
variable distribution before and after anonymization. The advantage of
histograms is that the results are exact. Visualization depends on the
bin widths and the start point of the first bin, however. Histograms can
be used for continuous and semi-continuous variables. Density plots
display the kernel density of the data; therefore, the plot depends on
the kernel that is chosen and whether the data fits the kernel well.
Nevertheless, density plots are a good tool to illustrate the change of
values and value ranges of continuous variables.</p>
<p>Histograms can be plotted with function hist() and kernel densities with
the functions plot() and density() in <em>R</em>. <a class="reference internal" href="#code611"><span class="std std-numref">Listing 35</span></a> provides
examples of how to use these functions to illustrate the changes in the
variable ”INC”, an income variable. The function hist() needs as
argument the break points for the histogram. The results are shown in
<a class="reference internal" href="#fig63"><span class="std std-numref">Fig. 14</span></a> and <a class="reference internal" href="#fig64"><span class="std std-numref">Fig. 15</span></a>. The histograms and density plots give a clear
indication how the values have changed: the variability of the data has
increased and the shape of the distribution has changed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The vertical axes of the histograms have different scales.</p>
</div>
<div class="literal-block-wrapper docutils container" id="code611">
<div class="code-block-caption"><span class="caption-number">Listing 35 </span><span class="caption-text">Plotting histograms and kernel densities</span><a class="headerlink" href="#code611" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Plot histograms</span>
<span class="c1"># Plot histogram before anonymization</span>
hist<span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="o">$</span>INC<span class="p">,</span> breaks <span class="o">=</span> <span class="p">(</span><span class="m">0</span><span class="o">:</span><span class="m">180</span><span class="p">)</span><span class="o">*</span><span class="m">1e2</span><span class="p">,</span>
     main <span class="o">=</span>  <span class="s">&quot;Histogram income - original data&quot;</span><span class="p">)</span>

<span class="c1"># Plot histogram after anonymization (noise addition)</span>
hist<span class="p">(</span>sdcInitial<span class="o">@</span>manipNumVars<span class="o">$</span>INC<span class="p">,</span> breaks <span class="o">=</span> <span class="p">(</span><span class="m">-20</span><span class="o">:</span><span class="m">190</span><span class="p">)</span><span class="o">*</span><span class="m">1e2</span><span class="p">,</span>
     main <span class="o">=</span> <span class="s">&quot;Histogram income - anonymized data&quot;</span><span class="p">)</span>

<span class="c1"># Plot densities</span>
<span class="c1"># Plot original density curve</span>
plot<span class="p">(</span>density<span class="p">(</span>sdcInitial<span class="o">@</span>origData<span class="o">$</span>INC<span class="p">),</span> xlim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">8000</span><span class="p">),</span> ylim <span class="o">=</span> <span class="kt">c</span><span class="o">*</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0.006</span><span class="p">),</span>
     main <span class="o">=</span> <span class="s">&quot;Density income&quot;</span><span class="p">,</span> xlab <span class="o">=</span> <span class="s">&quot;income&quot;</span><span class="p">)</span>
par <span class="p">(</span>new <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># Plot density curve after anonymization (noise addition)</span>
plot<span class="p">(</span>density<span class="p">(</span>sdcInitial<span class="o">@</span>manipNumVars<span class="o">$</span>INC<span class="p">),</span> xlim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">8000</span><span class="p">),</span> ylim <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0.006</span><span class="p">),</span>
     main <span class="o">=</span> <span class="s">&quot;Density income&quot;</span><span class="p">,</span> xlab <span class="o">=</span> <span class="s">&quot;income&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id5">
<span id="fig63"></span><img alt="_images/image13.png" src="_images/image13.png" />
<p class="caption"><span class="caption-number">Fig. 14 </span><span class="caption-text">Histograms of income before and after anonymization</span></p>
</div>
<div class="figure align-center" id="id6">
<span id="fig64"></span><img alt="_images/image14.png" src="_images/image14.png" />
<p class="caption"><span class="caption-number">Fig. 15 </span><span class="caption-text">Density plots of income before and after anonymization</span></p>
</div>
</div>
<div class="section" id="box-plots">
<h3>Box plots<a class="headerlink" href="#box-plots" title="Permalink to this headline">¶</a></h3>
<p>Box plots give a quick overview of the changes in the spread and
outliers of continuous variables before and after anonymization. <a class="reference internal" href="#code612"><span class="std std-numref">Listing 36</span></a>
shows how to generate box plots in <em>R</em> with the function boxplot().
The result in <a class="reference internal" href="#fig65"><span class="std std-numref">Fig. 16</span></a> shows an example for an expenditure variable
after adding noise. The box plot shows clearly that the variability in
the expenditure variable increased as a result of the anonymization
methods applied.</p>
<div class="literal-block-wrapper docutils container" id="code612">
<div class="code-block-caption"><span class="caption-number">Listing 36 </span><span class="caption-text">Creating boxplots for continuous variables</span><a class="headerlink" href="#code612" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>boxplot<span class="p">(</span>sdcObj<span class="o">@</span>origData<span class="o">$</span>TOTFOOD<span class="p">,</span> sdcObj<span class="o">@</span>manipNumVars<span class="o">$</span>TOTFOOD<span class="p">,</span>
        xaxt <span class="o">=</span> <span class="s">&#39;n&#39;</span><span class="p">,</span> ylab <span class="o">=</span> <span class="s">&quot;Expenditure&quot;</span><span class="p">)</span>
axis<span class="p">(</span><span class="m">1</span><span class="p">,</span> at <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span> labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&#39;before&#39;</span><span class="p">,</span> <span class="s">&#39;after&#39;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id7">
<span id="fig65"></span><img alt="_images/image15.png" src="_images/image15.png" />
<p class="caption"><span class="caption-number">Fig. 16 </span><span class="caption-text">Example of box plots of an expenditure variable before and after anonymization</span></p>
</div>
</div>
<div class="section" id="mosaic-plots">
<h3>Mosaic plots<a class="headerlink" href="#mosaic-plots" title="Permalink to this headline">¶</a></h3>
<p>Univariate and multivariate mosaic plots are useful for showing changes
in the tabulations of categorical variables, especially when comparing
several “scenarios” next to one another. A scenario here refers to the
choice of anonymization methods and their parameters. With mosaic plots
we can, for instance, quickly see the effect of different levels of
<span class="math notranslate nohighlight">\(k\)</span>-anonymity or differences in the importance vectors in the
local suppression algorithm (see the Section <a class="reference external" href="anon_methods.html#Localsuppression">Local suppression</a>).</p>
<p>We illustrate the changes in tabulations with an example of the variable
“WATER” before and after applying PRAM. We can use mosaic plots to
quickly see the changes for each category. <a class="reference internal" href="#code613"><span class="std std-numref">Listing 37</span></a> shows the code
in <em>R</em>. The function mosaicplot() is available in base <em>R</em>. To plot a
tabulation, first the tabulation must be made with the table() function.
To show the labels in the mosaicplot(), we change the class of the
variables to ‘factor’ (see the Section
<a class="reference external" href="sdcMicro.html#ClassesinR">Classes in R</a>). Looking at
the mosaic plot in <a class="reference internal" href="#fig66"><span class="std std-numref">Fig. 17</span></a> we see invariant PRAM has virtually no
influence on the univariate distribution.</p>
<div class="literal-block-wrapper docutils container" id="code613">
<div class="code-block-caption"><span class="caption-number">Listing 37 </span><span class="caption-text">Creating univariate mosaic plots</span><a class="headerlink" href="#code613" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Collecting data of variable WATER before and after anonymization,</span>
<span class="c1"># assigning factor levels for labels in plot</span>
dataWater <span class="o">&lt;-</span> <span class="kp">t</span><span class="p">(</span><span class="kp">cbind</span><span class="p">(</span><span class="kp">table</span><span class="p">(</span><span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>origData<span class="o">$</span>WATER<span class="p">,</span>
                                  levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                  labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Pipe (own tap)&quot;</span><span class="p">,</span> <span class="s">&quot;Public standpipe&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Borehole&quot;</span><span class="p">,</span> <span class="s">&quot;Wells (protected)&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Wells (unprotected)&quot;</span><span class="p">,</span> <span class="s">&quot;Surface water&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Rain water&quot;</span><span class="p">,</span> <span class="s">&quot;Vendor/truck&quot;</span><span class="p">,</span> <span class="s">&quot;Other&quot;</span><span class="p">))),</span>
                     <span class="kp">table</span><span class="p">(</span><span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>manipPramVars<span class="o">$</span>WATER<span class="p">,</span>
                                  levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                  labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Pipe (own tap)&quot;</span><span class="p">,</span> <span class="s">&quot;Public standpipe&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Borehole&quot;</span><span class="p">,</span> <span class="s">&quot;Wells (protected)&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Wells (unprotected)&quot;</span><span class="p">,</span> <span class="s">&quot;Surface water&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Rain water&quot;</span><span class="p">,</span> <span class="s">&quot;Vendor/truck&quot;</span><span class="p">,</span><span class="s">&quot;Other&quot;</span><span class="p">)))))</span>
<span class="kp">rownames</span><span class="p">(</span>dataWater<span class="p">)</span> <span class="o">&lt;-</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;before&quot;</span><span class="p">,</span> <span class="s">&quot;after&quot;</span><span class="p">)</span>

<span class="c1"># Plotting mosaic plot</span>
mosaicplot<span class="p">(</span>dataWater<span class="p">,</span> main <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> color <span class="o">=</span> <span class="m">2</span><span class="o">:</span><span class="m">10</span><span class="p">,</span> las <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id8">
<span id="fig66"></span><img alt="_images/image16.png" src="_images/image16.png" />
<p class="caption"><span class="caption-number">Fig. 17 </span><span class="caption-text">Mosaic plot to illustrate the changes in the WATER variable</span></p>
</div>
<p>We use the variables “gender” and “relationship status” to illustrate
the use of mosaic plots for the illustration of changes in univariate
tabulations introduced by several sets of anonymization methods. <a class="reference internal" href="#tab61"><span class="std std-numref">Table 20</span></a>
provides the methods applied in each scenario. Scenario 0, the base
scenario, shows the original categories of the gender and relationship
status variables, while scenarios 1 to 6 show shifts in the categories
after applying different anonymization techniques. Table 6.1 provides a
description of the anonymization methods used in each scenario. In total
we visualize the impact of six different sets of anonymization methods.
We can use mosaic plots to quickly see which set of methods has what
impact on the gender and relationship status variables, which can be
used to select the best scenario. Looking at the mosaic plots in <a class="reference internal" href="#fig67"><span class="std std-numref">Fig. 18</span></a> ,
we see that scenarios 2, 5 and 6 give the smallest changes for the
gender variable and scenarios 3 and 4 for the relationship status
variable.</p>
<span id="tab61"></span><table border="1" class="colwidths-auto docutils align-center" id="id9">
<caption><span class="caption-number">Table 20 </span><span class="caption-text">Description of anonymization methods by scenario</span><a class="headerlink" href="#id9" title="Permalink to this table">¶</a></caption>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Scenario</th>
<th class="head">Description of anonymization
methods applied</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0 (base)</td>
<td>Original data, no treatment</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>Recode age (five-year intervals),
plus local suppression (required
k = 3, high importance on water,
toilet and literacy variables)</td>
</tr>
<tr class="row-even"><td>2</td>
<td>Recode age (five-year intervals),
plus local suppression (required
k = 5, no importance vector)</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>Recode age (five-year intervals),
plus local suppression (required
k = 3, high importance on
toilet), while also recoding
region, urban, education level
and occupation variables</td>
</tr>
<tr class="row-even"><td>4</td>
<td>Recode age (five-year steps),
plus local suppression (required
k = 5, high importance on water,
toilet and literacy), while also
recoding region, urban, education
level and occupation variables</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>Recode age (five-year intervals),
plus local suppression (required
k = 3, no importance vector),
microaggregation (wealth index),
while also recoding region,
urban, education level and
occupation variables</td>
</tr>
<tr class="row-even"><td>6</td>
<td>Recode age (five-year intervals)
plus local suppression (required
k=3, no importance vector), PRAM
literacy, while also recoding
region, urban, education level
and occupation variables</td>
</tr>
</tbody>
</table>
<div class="figure align-center" id="id10">
<span id="fig67"></span><img alt="_images/image17.png" src="_images/image17.png" />
<p class="caption"><span class="caption-number">Fig. 18 </span><span class="caption-text">Comparison of treated vs. untreated gender and relationship status variables with mosaic plots</span></p>
</div>
<p>As we discussed in the Section
<a href="#id13"><span class="problematic" id="id14">`PRAM (Post RAndomization Method) &lt;anon_methods.html# PRAM (Post RAndomization Method)`__</span></a>
, invariant PRAM preserves the
univariate distributions. Therefore, in this case it is more interesting
to look at the multivariate mosaic plots. Mosaic plots are also a
powerful tool to show changes in cross-tabulations/contingency tables.
<a class="reference internal" href="#code614"><span class="std std-numref">Listing 38</span></a> shows how to generate mosaic plots for two variables. To
compare the changes, we need to compare two different plots. <a class="reference internal" href="#fig68"><span class="std std-numref">Fig. 19</span></a>
and <a class="reference internal" href="#fig69"><span class="std std-numref">Fig. 20</span></a> illustrate that (invariant) PRAM does not preserve the
two-way tables in this case.</p>
<div class="literal-block-wrapper docutils container" id="code614">
<div class="code-block-caption"><span class="caption-number">Listing 38 </span><span class="caption-text">Creating multivariate mosaic plots</span><a class="headerlink" href="#code614" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Before anonymization: contingency table and mosaic plot</span>
ROOFTOILETbefore <span class="o">&lt;-</span> <span class="kp">t</span><span class="p">(</span><span class="kp">table</span><span class="p">(</span><span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>origData<span class="o">$</span>ROOF<span class="p">,</span> levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                   labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Concrete/cement/ \n brick/stone&quot;</span><span class="p">,</span> <span class="s">&quot;Wood&quot;</span><span class="p">,</span>
                                              <span class="s">&quot;Bamboo/thatch&quot;</span><span class="p">,</span> <span class="s">&quot;Tiles/shingles&quot;</span><span class="p">,</span>
                                              <span class="s">&quot;Tin/metal sheets&quot;</span><span class="p">,</span> <span class="s">&quot;Other&quot;</span><span class="p">)),</span>
                            <span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>origData<span class="o">$</span>TOILET<span class="p">,</span> levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                   labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Flush \n toilet&quot;</span><span class="p">,</span>
                                              <span class="s">&quot;Improved \n pit \n latrine&quot;</span><span class="p">,</span>
                                              <span class="s">&quot;Pit \n latrine&quot;</span><span class="p">,</span> <span class="s">&quot;No \n facility&quot;</span><span class="p">,</span>
                                              <span class="s">&quot;Other&quot;</span><span class="p">))))</span>
mosaicplot<span class="p">(</span>ROOFTOILETbefore<span class="p">,</span> main <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> las <span class="o">=</span> <span class="m">2</span><span class="p">,</span> color <span class="o">=</span> <span class="m">2</span><span class="o">:</span><span class="m">6</span><span class="p">)</span>

<span class="c1"># After anonymization: contingency table and mosaic plot</span>
ROOFTOILETafter <span class="o">&lt;-</span> <span class="kp">t</span><span class="p">(</span><span class="kp">table</span><span class="p">(</span><span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>manipPramVars<span class="o">$</span>ROOF<span class="p">,</span> levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                  labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Concrete/cement/ \n brick/stone&quot;</span><span class="p">,</span> <span class="s">&quot;Wood&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Bamboo/thatch&quot;</span><span class="p">,</span> <span class="s">&quot;Tiles/shingles&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Tin/metal sheets&quot;</span><span class="p">,</span> <span class="s">&quot;Other&quot;</span><span class="p">)),</span>
                           <span class="kp">factor</span><span class="p">(</span>sdcHH<span class="o">@</span>manipPramVars<span class="o">$</span>TOILET<span class="p">,</span> levels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">9</span><span class="p">),</span>
                                  labels <span class="o">=</span> <span class="kt">c</span><span class="p">(</span><span class="s">&quot;Flush \n toilet&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Improved \\n pit \n latrine&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Pit \n latrine&quot;</span><span class="p">,</span> <span class="s">&quot;No \n facility&quot;</span><span class="p">,</span>
                                             <span class="s">&quot;Other&quot;</span><span class="p">))))</span>
mosaicplot<span class="p">(</span>ROOFTOILETafter<span class="p">,</span> main <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> las <span class="o">=</span> <span class="m">2</span><span class="p">,</span> color <span class="o">=</span> <span class="m">2</span><span class="o">:</span><span class="m">6</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="figure align-center" id="id11">
<span id="fig68"></span><img alt="_images/image18.png" src="_images/image18.png" />
<p class="caption"><span class="caption-number">Fig. 19 </span><span class="caption-text">Mosaic plot of the variables ROOF and TOILET before anonymization</span></p>
</div>
<div class="figure align-center" id="id12">
<span id="fig69"></span><img alt="_images/image19.png" src="_images/image19.png" />
<p class="caption"><span class="caption-number">Fig. 20 </span><span class="caption-text">Mosaic plot of the variables ROOF and TOILET after anonymization</span></p>
</div>
</div>
</div>
<div class="section" id="choice-of-utility-measure">
<h2>Choice of utility measure<a class="headerlink" href="#choice-of-utility-measure" title="Permalink to this headline">¶</a></h2>
<p>Besides the users’ requirements on the data, the utility measures should
be chosen in accordance with the variable types and anonymization
methods employed. The employed utility measures can be a combination of
both general and user-specific measures. As discussed earlier, different
utility measures should be used for continuous and categorical data.
Furthermore, some utility measures are not informative after certain
anonymization methods have been applied. For example, after applying
perturbative methods that interchange data values, comparing values
directly is not useful because they will give the impression of high
levels of information loss. In such cases, it is more informative to
look at means, covariances and benchmarking indicators that can be
computed from the data. Furthermore, it is important not only to focus
on the characteristics of variables one by one, but also on the
interactions between variables. This can be done by cross-tabulations
and regressions. In general, when anonymizing sampled data, it is
advisable to compute confidence intervals around estimates to interpret
the magnitude of changes.</p>
<div class="admonition-recommended-reading-material-on-measuring-utility-and-information-loss admonition">
<p class="first admonition-title">Recommended Reading Material on Measuring Utility and Information Loss</p>
<p>A.G. De Waal and L.C.R.J. Willenborg. 1999. “Information Loss through
Global Recoding and Local Suppression” In Netherlands Official
Statistics: Special Issue on SDC, 14, 17-10.</p>
<p>J. Domingo-Ferrer, J.M. Mateo-Sanz and V. Torra. 2001. “Comparing SDC
Methods for Microdata on the basis of Information Loss and Disclosure
Risk”. In Pre-proceedings of ETK-NTTS 2001 (vol. 2), 807-826.
<a class="reference external" href="http://neon.vb.cbs.nl/casc/NTTSJosep.pdf">http://neon.vb.cbs.nl/casc/NTTSJosep.pdf</a></p>
<p class="last">J. Domingo-Ferrer and V. Torra. 2001. “Disclosure Protection Methods and
Information Loss for Microdata”. In P. Doyle, J.I. Lane, J.J.M. Theeuwes
and L. Zayatz (eds.) <em>Theory and Practical Applications for Statistical
Agencies</em>, 91-110, Amsterdam.
<a class="reference external" href="http://crises-deim.urv.cat/webCrises/publications/bcpi/cliatpasa01Disclosure.pdf">http://crises-deim.urv.cat/webCrises/publications/bcpi/cliatpasa01Disclosure.pdf</a></p>
</div>
<table class="docutils footnote" frame="void" id="foot58" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>It is possible to release data files for different groups of users,
e.g., PUF and SUF. All information in the less detailed file,
however, must also be included in the more detailed file to prevent
unintended disclosure. Datasets released in data enclaves can be
customized for the user, since the risk that they will be combined
with other version is zero.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="foot59" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Here the <em>sdcMicro</em> object “sdcIntial“ contains a dataset with 2,500
individuals and 103 variables. We selected three categorical
quasi-identifiers: “URBRUR”, “REGION”, “RELIG” and “MARITAL” and
several continuous quasi-identifiers relating to income and
expenditure. To illustrate the utility loss, we also applied several
SDC methods to this <em>sdcMicro</em> object, such as local suppression,
PRAM and additive noise addition.</td></tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="doto01b" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[DoTo01b]</td><td>Domingo-Ferrer, J., &amp; Torra, V. (2001).
<strong>Disclosure Protection Methods and Information Loss for Microdata.</strong>
In P. Doyle, J. Lane, J. Theeuwes, &amp; Z. L., Theory and Practical Applications for Statistical Agencies (pp. 91-110). Amsterdam.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="hdfg12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[HDFG12]</td><td>Hundepool, A., Domingo-Ferrer, J., Franconi, L., Giessing, S., Nordholt, E. S., Spicer, K., et al. (2012).
<strong>Statistical Disclosure Control.</strong>
Chichester, UK: John Wiley &amp; Sons Ltd.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="tmkc14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[TMKC14]</td><td>Templ, M., Meindl, B., Kowarik, A., &amp; Chen, S. (2014, August 1).
<strong>Introduction to Statistical Disclosure Control (SDC).</strong>
Retrieved July 9, 2018, from <a class="reference external" href="http://www.ihsn.org/home/software/disclosure-control-toolbox">http://www.ihsn.org/home/software/disclosure-control-toolbox</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="yawc02" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[YaWC02]</td><td>Yancey, W. W., Winkler, W. E., &amp; Creecy, R. H. (2002).
<strong>Disclosure Risk Assessment in Perturbative Microdata Protection.</strong>
Research Report Series , Statistics 2002-01.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sdcMicro.html" class="btn btn-neutral float-right" title="SDC with sdcMicro in R: Setting Up Your Data and more" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="anon_methods.html" class="btn btn-neutral" title="Anonymization Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Thijs Benschop, Cathrine Machingauta, Matthew Welch.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>